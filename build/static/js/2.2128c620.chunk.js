webpackJsonp([2],{275:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),c=a(u),s=n(166),d=n(251),f=n(11),p=n(19),h=a(p),m=function(e){var t={},n=["name"];return n.forEach(function(n){e[n]||(t[n]="Required")}),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t},y=function(e){function t(){return l(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return c.default.createElement("form",{onSubmit:e,className:"flex-column"},c.default.createElement("div",{className:"flex-column"},c.default.createElement(s.Field,{name:"name",fullWidth:!0,component:d.TextField,hintText:"Name"}),c.default.createElement(s.Field,{name:"email",fullWidth:!0,component:d.TextField,hintText:"Email"}),c.default.createElement(s.Field,{name:"phone",fullWidth:!0,component:d.TextField,hintText:"Phone"}),c.default.createElement(h.default,{type:"submit",label:"add",style:{width:"100%",marginTop:"8px"},backgroundColor:"#ddd"})))}}]),t}(u.Component);y=(0,s.reduxForm)({form:"addClientSimpleForm",validate:m})(y);var v=function(e){return{dispatch:e}};t.default=(0,f.connect)(null,v)(y)},281:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),c=a(u),s=n(93),d=a(s),f=n(42),p=a(f),h=n(92),m=a(h),y=n(132),v=a(y),b=n(486),C=n(534),g=a(C),x=n(536),E=a(x),T=n(72),_=n(537),O=a(_),w=n(211),j=a(w),k=n(28),I=a(k),S=n(47),P=a(S),A=n(11),N=n(275),M=a(N),L=n(558),B=a(L);n(303);var z=function(e){function t(){var e,n,a,o;l(this,t);for(var r=arguments.length,u=Array(r),c=0;c<r;c++)u[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={addClientButtonOpen:!1,clients:[],selectedClient:{_id:"",name:"",email:"",phone:"",note:""}},a.handleAddClientButtonTouchTap=function(e){e.preventDefault(),a.setState({addClientButtonOpen:!0,anchorEl:e.currentTarget})},a.handleAddClientRequestClose=function(){a.setState({addClientButtonOpen:!1})},a.handleAddClientSimpleFormSubmit=function(e){var t=a;(0,P.default)("/api/protect/client",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.props.auth.token},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){t.handleAddClientRequestClose(),t.getClients()}).catch(function(e){console.log("failed",e)})},a.handleClientNoteInput=function(e){var t=a.state;t.selectedClient.note=e.target.value,a.setState(t)},a.handleClientNameInput=function(e){var t=a.state;t.selectedClient.name=e.target.value,a.setState(t)},a.handleClientPhoneInput=function(e){var t=a.state;t.selectedClient.phone=e.target.value,a.setState(t)},a.handleClientEmailInput=function(e){var t=a.state;t.selectedClient.email=e.target.value,a.setState(t)},a.updateClientNote=function(e){a.patchClientInfo("note",e)},a.updateClientName=function(e){a.patchClientInfo("name",e)},a.updateClientPhone=function(e){a.patchClientInfo("phone",e)},a.updateClientEmail=function(e){a.patchClientInfo("email",e)},o=n,i(a,o)}return o(t,e),r(t,[{key:"componentWillMount",value:function(){this.getClients()}},{key:"getClients",value:function(){var e=this;(0,P.default)("/api/protect/clients",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.auth.token}}).then(function(e){return e.json()}).then(function(t){t.success&&e.updateClients(t.clients),console.log(t)}).catch(function(e){console.log("failed",e)})}},{key:"getClient",value:function(e){var t=this;(0,P.default)("/api/protect/client?id="+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.auth.token}}).then(function(e){return e.json()}).then(function(e){e.success&&t.updateSelectedClient(e.client)}).catch(function(e){console.log("failed",e)})}},{key:"updateSelectedClient",value:function(e){var t=(0,B.default)(this.state,{selectedClient:{_id:{$set:e._id},name:{$set:e.name},phone:{$set:e.phone||""},email:{$set:e.email},note:{$set:e.note}}});this.setState(t)}},{key:"updateClients",value:function(e){this.setState({clients:e})}},{key:"patchClientInfo",value:function(e,t){var n={id:this.state.selectedClient._id,field:e,data:t};(0,P.default)("/api/protect/client",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.auth.token},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){console.log("failed",e)})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"view-body flex-column"},c.default.createElement("div",{style:{position:"absolute",top:"62px",left:0,bottom:0,right:0},className:"flex-row"},c.default.createElement("div",{className:"clients-side-panel flex-column",style:{flex:30,height:"100%"}},c.default.createElement("div",{className:"flex-row flex-center"},c.default.createElement("div",{className:"clients-search-bar",style:{flex:80}},c.default.createElement(I.default,{hintText:"Search",fullWidth:!0})),c.default.createElement("div",{className:"clients-side-add-button",style:{flex:20,textAlign:"center"}},c.default.createElement(d.default,{iconClassName:"material-icons",onTouchTap:this.handleAddClientButtonTouchTap,iconStyle:{color:"#304966"}},"add_circle"),c.default.createElement(v.default,{style:{padding:"16px",width:"256px"},open:this.state.addClientButtonOpen,anchorEl:this.state.anchorEl,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.handleAddClientRequestClose},c.default.createElement(M.default,{onSubmit:this.handleAddClientSimpleFormSubmit})))),this.state.clients.map(function(t){return c.default.createElement(b.ListItem,{key:t._id,primaryText:t.name,secondaryText:t.email,onClick:function(){e.getClient(t._id)},leftAvatar:c.default.createElement(m.default,{src:"http://www.lovemarks.com/wp-content/uploads/profile-avatars/default-avatar-tech-guy.png"}),rightIcon:c.default.createElement(p.default,{className:"material-icons"},"keyboard_arrow_right")})})),c.default.createElement("div",{className:"clients-detail-panel-wrapper",style:{flex:70}},c.default.createElement("div",{className:"clients-detail-panel flex-row",style:{height:"100%"}},c.default.createElement("div",{className:"clients-detail-panel-item"},c.default.createElement(j.default,null,"Contact"),c.default.createElement(b.List,null,c.default.createElement(b.ListItem,{leftIcon:c.default.createElement(g.default,{color:T.indigo500,style:{top:"16px"}}),primaryText:c.default.createElement(I.default,{hintText:"Name",value:this.state.selectedClient.name,onChange:this.handleClientNameInput,onBlur:function(t){e.updateClientName(t.target.value)}})})),c.default.createElement(b.List,null,c.default.createElement(b.ListItem,{leftIcon:c.default.createElement(E.default,{color:T.indigo500,style:{top:"16px"}}),primaryText:c.default.createElement(I.default,{hintText:"Phone",value:this.state.selectedClient.phone,onChange:this.handleClientPhoneInput,onBlur:function(t){e.updateClientPhone(t.target.value)}})})),c.default.createElement(b.List,null,c.default.createElement(b.ListItem,{leftIcon:c.default.createElement(O.default,{color:T.indigo500,style:{top:"16px"}}),primaryText:c.default.createElement(I.default,{hintText:"Email",value:this.state.selectedClient.email,onChange:this.handleClientEmailInput,onBlur:function(t){e.updateClientEmail(t.target.value)}})})),c.default.createElement(j.default,null,"Note"),c.default.createElement("div",{style:{margin:"0 16px",border:"1px solid #ddd"}},c.default.createElement(I.default,{multiLine:!0,rows:3,hintText:"Note",value:this.state.selectedClient.note,style:{padding:"0 16px",width:"calc(100% - 64px)"},onChange:this.handleClientNoteInput,onBlur:function(t){e.updateClientNote(t.target.value)}}))),c.default.createElement("div",{className:"clients-detail-panel-item"},c.default.createElement(j.default,null,"Appointment"))))))}}]),t}(u.Component),$=function(e){return{auth:e.auth}},F=function(e){return{dispatch:e}};t.default=(0,A.connect)($,F)(z)},290:function(e,t,n){t=e.exports=n(171)(),t.push([e.id,".clients-side-panel{border-right:1px solid #ddd;background:#fff}.clients-search-bar{padding:8px 0 8px 16px}.clients-detail-panel-wrapper{margin:16px}.clients-detail-panel-item{-webkit-box-flex:50;-webkit-flex:50;-ms-flex:50;flex:50;background:#fff;border-radius:3px;box-shadow:0 1px 4px rgba(0,0,0,.04);border:1px solid rgba(0,0,0,.09)}.clients-detail-panel-item:first-child{margin-right:16px}",""])},303:function(e,t,n){var a=n(290);"string"==typeof a&&(a=[[e.id,a,""]]);n(265)(a,{});a.locals&&(e.exports=a.locals)},484:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MakeSelectable=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),d=a(s),f=n(1),p=a(f),h=n(37),m=n(30),y=a(m),v=t.MakeSelectable=function(e){var t,n;return n=t=function(t){function n(){var e,t,a,l;i(this,n);for(var r=arguments.length,u=Array(r),c=0;c<r;c++)u[c]=arguments[c];return t=a=o(this,(e=Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),a.hasSelectedDescendant=function(e,t){return p.default.isValidElement(t)&&t.props.nestedItems&&t.props.nestedItems.length>0?t.props.nestedItems.reduce(a.hasSelectedDescendant,e):e||a.isChildSelected(t,a.props)},a.handleItemTouchTap=function(e,t){var n=a.getValueLink(a.props),l=t.props.value;l!==n.value&&n.requestChange(e,l)},l=t,o(a,l)}return r(n,t),c(n,[{key:"getValueLink",value:function(e){return e.valueLink||{value:e.value,requestChange:e.onChange}}},{key:"extendChild",value:function(e,t,n){var a=this;if(e&&e.type&&"ListItem"===e.type.muiName){var l=this.isChildSelected(e,this.props),i=void 0;l&&(i=(0,d.default)({},t,n));var o=(0,d.default)({},e.props.style,i);return this.keyIndex+=1,p.default.cloneElement(e,{onTouchTap:function(t){a.handleItemTouchTap(t,e),e.props.onTouchTap&&e.props.onTouchTap(t)},key:this.keyIndex,style:o,nestedItems:e.props.nestedItems.map(function(e){return a.extendChild(e,t,n)}),initiallyOpen:this.isInitiallyOpen(e)})}return e}},{key:"isInitiallyOpen",value:function(e){return e.props.initiallyOpen?e.props.initiallyOpen:this.hasSelectedDescendant(!1,e)}},{key:"isChildSelected",value:function(e,t){return this.getValueLink(t).value===e.props.value}},{key:"render",value:function(){var t=this,n=this.props,a=n.children,i=n.selectedItemStyle,o=l(n,["children","selectedItemStyle"]);this.keyIndex=0;var r={};if(!i){var c=this.context.muiTheme.baseTheme.palette.textColor;r.backgroundColor=(0,h.fade)(c,.2)}return p.default.createElement(e,u({},o,this.state),p.default.Children.map(a,function(e){return t.extendChild(e,r,i)}))}}]),n}(e),t.propTypes={children:f.PropTypes.node,onChange:f.PropTypes.func,selectedItemStyle:f.PropTypes.object,value:f.PropTypes.any,valueLink:(0,y.default)(f.PropTypes.shape({value:f.PropTypes.any,requestChange:f.PropTypes.func}),"This property is deprecated due to his low popularity. Use the value and onChange property.\n        It will be removed with v0.16.0.")},t.contextTypes={muiTheme:f.PropTypes.object.isRequired},n};t.default=v},486:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MakeSelectable=t.ListItem=t.List=void 0;var l=n(128),i=a(l),o=n(208),r=a(o),u=n(484),c=a(u);t.List=i.default,t.ListItem=r.default,t.MakeSelectable=c.default,t.default=i.default},534:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),i=a(l),o=n(12),r=a(o),u=n(10),c=a(u),s=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}))};s=(0,r.default)(s),s.displayName="ActionAccountBox",s.muiName="SvgIcon",t.default=s},536:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),i=a(l),o=n(12),r=a(o),u=n(10),c=a(u),s=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}))};s=(0,r.default)(s),s.displayName="CommunicationCall",s.muiName="SvgIcon",t.default=s},537:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),i=a(l),o=n(12),r=a(o),u=n(10),c=a(u),s=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}))};s=(0,r.default)(s),s.displayName="CommunicationEmail",s.muiName="SvgIcon",t.default=s},558:function(e,t,n){e.exports=n(655)},655:function(e,t,n){"use strict";function a(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?r(new e.constructor,e):e}function l(e,t,n){Array.isArray(e)?void 0:o("1",n,e);var a=t[n];Array.isArray(a)?void 0:o("2",n,a)}function i(e,t){if("object"!=typeof t?o("3",y.join(", "),p):void 0,c.call(t,p))return 1!==Object.keys(t).length?o("4",p):void 0,t[p];var n=a(e);if(c.call(t,h)){var u=t[h];u&&"object"==typeof u?void 0:o("5",h,u),n&&"object"==typeof n?void 0:o("6",h,n),r(n,t[h])}c.call(t,s)&&(l(e,t,s),t[s].forEach(function(e){n.push(e)})),c.call(t,d)&&(l(e,t,d),t[d].forEach(function(e){n.unshift(e)})),c.call(t,f)&&(Array.isArray(e)?void 0:o("7",f,e),Array.isArray(t[f])?void 0:o("8",f,t[f]),t[f].forEach(function(e){Array.isArray(e)?void 0:o("8",f,t[f]),n.splice.apply(n,e)})),c.call(t,m)&&("function"!=typeof t[m]?o("9",m,t[m]):void 0,n=t[m](n));for(var b in t)v.hasOwnProperty(b)&&v[b]||(n[b]=i(e[b],t[b]));return n}var o=n(4),r=n(7),u=n(26),c=(n(3),{}.hasOwnProperty),s=u({$push:null}),d=u({$unshift:null}),f=u({$splice:null}),p=u({$set:null}),h=u({$merge:null}),m=u({$apply:null}),y=[s,d,f,p,h,m],v={};y.forEach(function(e){v[e]=!0}),e.exports=i}});
//# sourceMappingURL=2.2128c620.chunk.js.map