webpackJsonp([12],{22:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=self.fetch.bind(self);t.Headers=self.Headers,t.Request=self.Request,t.Response=self.Response},588:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),c=a(u),s=n(195),f=n(213),p=n(229),d=n(25),m=a(d),b=n(19),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.template,a=n.title,o=n.fields;return c.default.createElement("form",{onSubmit:t,className:"flex-column"},c.default.createElement("div",{className:"flex-column"},c.default.createElement("div",{className:"feedback-preview-title"},a),o.map(function(e,t){return c.default.createElement("div",{key:e._id,className:"flex-column feedback-preview-question-wrapper"},c.default.createElement("div",{className:"feedback-preview-question"},e.question),c.default.createElement("div",null,"response"===e.type&&c.default.createElement(s.Field,{name:e._id,component:f.TextField,hintText:"Response",multiLine:!0,rows:1,fullWidth:!0}),"mc"===e.type&&c.default.createElement(s.Field,{name:e._id,component:f.RadioButtonGroup},e.choices.map(function(e,t){return c.default.createElement(p.RadioButton,{value:e,label:e,key:t,style:{margin:"8px 0"}})})),"rate"===e.type&&c.default.createElement("div",{className:"flex-row feedback-rates-preview"},e.rates.map(function(t,n){return c.default.createElement("div",{className:"flex-column align-center flex-auto-with",key:t},c.default.createElement("div",null,t),c.default.createElement(s.Field,{name:e._id,component:"input",type:"radio",value:t.toString()}))}))))}),c.default.createElement("div",{className:"flex-column",style:{padding:"0 16px"}},!this.props.auth.email&&c.default.createElement("div",{className:"flex-column"},c.default.createElement(s.Field,{name:"email",component:f.TextField,hintText:"Email"}),c.default.createElement(s.Field,{name:"name",component:f.TextField,hintText:"Name"})),c.default.createElement("div",{className:"flex-row"},c.default.createElement(m.default,{type:"submit",label:"Submit",style:{marginTop:"8px",color:"#fff"},backgroundColor:"#4285f4"})))))}}]),t}(u.Component);h=(0,s.reduxForm)({form:"answerFeedbackForm"})(h),h=(0,b.connect)(function(e){return{auth:e.auth}},null)(h),t.default=h},599:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),c=a(u),s=n(22),f=a(s),p=n(19);n(702);var d=n(588),m=a(d),b=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={template:null,submit:!1},a.handleFeedbackSubmit=function(e){var t=a;a.props.auth.email&&(e.email=a.props.auth.email),console.log(e),(0,f.default)("/api/public/feedback/"+a.props.routeParams.id,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),t.setState({submit:!0}),!e.success}).catch(function(e){console.log("failed",e)})},l=n,r(a,l)}return l(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;(0,f.default)("/api/public/feedback/"+this.props.routeParams.id,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){console.log(t),t.success&&e.setState({template:t.feedbackTemplate})}).catch(function(e){console.log("failed",e)})}},{key:"render",value:function(){return c.default.createElement("div",{className:"view-body"},c.default.createElement("div",{className:"feedback-form-wrapper light-card"},null!==this.state.template&&this.state.submit===!1&&c.default.createElement(m.default,{onSubmit:this.handleFeedbackSubmit,template:this.state.template}),this.state.submit===!0&&c.default.createElement("div",null,"Your response has been recorded.")))}}]),t}(u.Component),h=function(e){return{auth:e.auth}};t.default=(0,p.connect)(h,null)(b)},671:function(e,t,n){t=e.exports=n(221)(),t.push([e.id,".feedback-form-wrapper{max-width:800px;padding:16px;margin:32px auto;background:#fff}",""])},702:function(e,t,n){var a=n(671);"string"==typeof a&&(a=[[e.id,a,""]]);n(241)(a,{});a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=12.97eeae84.chunk.js.map