webpackJsonp([13],{622:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),c=a(i),f=n(191),s=n(222),p=n(235),d=n(25),m=a(d),b=n(19),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.template,a=n.title,r=n.fields;return c.default.createElement("form",{onSubmit:t,className:"flex-column"},c.default.createElement("div",{className:"flex-column"},c.default.createElement("div",{className:"feedback-preview-title"},a),r.map(function(e,t){return c.default.createElement("div",{key:e._id,className:"flex-column feedback-preview-question-wrapper"},c.default.createElement("div",{className:"feedback-preview-question"},e.question),c.default.createElement("div",null,"response"===e.type&&c.default.createElement(f.Field,{name:e._id,component:s.TextField,hintText:"Response",multiLine:!0,rows:1,fullWidth:!0}),"mc"===e.type&&c.default.createElement(f.Field,{name:e._id,component:s.RadioButtonGroup},e.choices.map(function(e,t){return c.default.createElement(p.RadioButton,{value:e,label:e,key:t,style:{margin:"8px 0"}})})),"rate"===e.type&&c.default.createElement("div",{className:"flex-row feedback-rates-preview"},e.rates.map(function(t,n){return c.default.createElement("div",{className:"flex-column align-center flex-auto-with",key:t},c.default.createElement("div",null,t),c.default.createElement(f.Field,{name:e._id,component:"input",type:"radio",value:t.toString()}))}))))}),c.default.createElement("div",{className:"flex-column",style:{padding:"0 16px"}},!this.props.auth.email&&c.default.createElement("div",{className:"flex-column"},c.default.createElement(f.Field,{name:"email",component:s.TextField,hintText:"Email"}),c.default.createElement(f.Field,{name:"name",component:s.TextField,hintText:"Name"})),c.default.createElement("div",{className:"flex-row"},c.default.createElement(m.default,{type:"submit",label:"Submit",style:{marginTop:"8px",color:"#fff"},backgroundColor:"#4285f4"})))))}}]),t}(i.Component);h=(0,f.reduxForm)({form:"answerFeedbackForm"})(h),h=(0,b.connect)(function(e){return{auth:e.auth}},null)(h),t.default=h},643:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),c=a(i),f=n(35),s=a(f),p=n(19);n(751);var d=n(622),m=a(d),b=function(e){function t(){var e,n,a,l;r(this,t);for(var u=arguments.length,i=Array(u),c=0;c<u;c++)i[c]=arguments[c];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={template:null,submit:!1},a.handleFeedbackSubmit=function(e){var t=a;a.props.auth.email&&(e.email=a.props.auth.email),console.log(e),s.default.post("/api/public/feedback/"+a.props.routeParams.id,e).then(function(e){e.data.success&&t.setState({submit:!0})}).catch(function(e){console.log("failed",e)})},l=n,o(a,l)}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;s.default.get("/api/public/feedback/"+this.props.routeParams.id).then(function(t){t.data.success&&t.feedbackTemplate&&e.setState({template:t.data.feedbackTemplate})}).catch(function(e){console.log("failed",e)})}},{key:"render",value:function(){return c.default.createElement("div",{className:"view-body"},c.default.createElement("div",{className:"feedback-form-wrapper light-card"},null!==this.state.template&&this.state.submit===!1&&c.default.createElement(m.default,{onSubmit:this.handleFeedbackSubmit,template:this.state.template}),this.state.submit===!0&&c.default.createElement("div",null,"Your response has been recorded.")))}}]),t}(i.Component),h=function(e){return{auth:e.auth}};t.default=(0,p.connect)(h,null)(b)},715:function(e,t,n){t=e.exports=n(149)(),t.push([e.id,".feedback-form-wrapper{max-width:800px;padding:16px;margin:32px auto;background:#fff}",""])},751:function(e,t,n){var a=n(715);"string"==typeof a&&(a=[[e.id,a,""]]);n(155)(a,{});a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=13.d50966a0.chunk.js.map